<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Continua *</title>

		<meta name="description" content="Integración y despliegue continuo: continuando que es gerundio">
		<meta name="author" content="JJ Merelo">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/extra.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

	  <div class="reveal">
	    
	    <!-- Any section element inside of this container is displayed as a slide -->
	    <div class="slides">
	      <section>
		<h1>* continua</h1>
		<h2>Creando applicaciones que es un no parar</h2>
		<h3>
		  <a href="http://jj.github.io">JJ Merelo</a> / <a href="http://twitter.com/jjmerelo"><code>@jjmerelo</code></a></h3>
	      </section>
	      
	      <section 
		data-background='https://farm4.staticflickr.com/3092/3085157011_4560528e9e_b_d.jpg'>
		<h1>La importancia del botón</h1>
		<aside class='notes'>
		  Uno de los objetivos es automatizar todo el proceso
		de publicación de una aplicación o de despliegue a la
		web sin necesidad de "parar las máquinas". Es decir,
		pulsar un sólo botón y que la aplicación actualizada
		  comience a ser usada por los clientes.</aside>
	      </section>

	      <section data-background='https://farm4.staticflickr.com/3360/3309461038_f1c8935eb0_b_d.jpg'>
		<aside class="notes">
		  La base principal del devops es la
		  cultura, ayudado por las
		  herramientas. Es el abrazo entre
		  desarrollo, sistemas y QA, o
		  calidad. Todo ello apoyado por
		  herramientas automatizadas. Eso ya
		  os lo sabéis, pero lo cuento por si
		  acaso. 
		</aside>
	      </section>

	      <section
		data-background='https://farm5.staticflickr.com/4012/4624759422_261746b298_b_d.jpg'>
		<h1 class='bkg'>ポカヨケ</h1>
		
		<aside class="notes">El concepto de
		  <a
		    href='http://en.wikipedia.org/wiki/Poka-yoke'>Poka-yoke</a>
		  (<em>baka-yoke</em> previamente, o a
		  prueba de estúpidos) significa a
		  prueba de equivocaciones, es decir,
		  tratar de diseñar un sistema que tenga
		  tan pocas equivocaciones como sea
		  posible. El proceso de despliegue o
		  <em>reparto</em> (<em>delivery</em>)
		  es el esquivalente en ingeniería de
		  ese concepto</aside>
	      </section>

	      <section
		data-background='https://farm6.staticflickr.com/5573/14667856750_7f34fac0ca_k_d.jpg'
alt='tubería verde'>
		<aside class="notes">Un sistema de
		  despliegue (o reparto) continuo se
		  integra en una tubería o
		  <em>pipeline</em> que trata de
		  asegurar que, en cada paso, el
		  producto sea el correcto. Y bonito y
		  verde. Y que todo el mundo sea
		  feliz.</aside>
	      </section>
	      
	      <section
		data-background='https://farm3.staticflickr.com/2011/2332987323_9f21439826_b_d.jpg'
alt='big red button'>
		<aside class="notes">Volvemos al
		  botón: desde una máquina virtual
		  "vacía", sin provisionar, el botón
		  activa las diferentes etapas del
		  pipeline para que esa  máquina virtual
		  en la nube se pueda provisionar desde 0 y que lo que se
		  despliegue se sepa que va a
		  funcionar porque ha pasado los tests
		  (y, en su caso, la aprobación del
		  cliente).</aside>
	      </section>
				  
	      <section
		data-background='img/git-push-by-Jpellgen.jpg' img='git push'>
		
		<aside class='notes'>El pipeline, en
		  sí, está alimentado por
		  <em>git</em>, el estándar para
		  gestionar fuentes y más allá, de
		  trabajo en grupo y también,
		  evidentemente, de integración y
		  despliegue continuo. Cada avance y
		  retroalimentación del pipeline
		  necesita un comando de
		  git.</aside>
		
	      </section>
	      
	      <section data-background='img/ramas-by-Kasia.jpg' alt='ramas by Kasia'>
		<aside class='notes'>Normalmente
		  empieza por la organización del
		  trabajo en el repositorio en varias
		  ramas, una de las cuales es la
		  <code>master</code> que
		  eventualmente será desplegada,
		  usando reglas prácticas como
		  <em>todo lo que hay en la master es
		    desplegable</em>. Puede haber ramas
		  de pruebas y una rama de desarrollo
		  en donde se puedan testear
		  diferentes elementos hasta que estén
		  listos para el despliegue.
		</aside>
	      </section>
	      
	      <section
		data-background='https://farm4.staticflickr.com/3529/3175297773_edf3617df7_b_d.jpg'
		'Enganches o ganchos'>
		<aside class='notes'>git es un
		  sistema de ficheros direccionado por
		  contenido y consigue actuar de
		  múltiples formas diferentes usando
		  <em>hooks</em> o ganchos. Cuando
		  ocurre un evento determinado entre
		  <a
		    href='http://git-scm.com/book/es/v2/Customizing-Git-Git-Hooks'>la
		    docena</a> definida, se puede
		  ejecutar una orden con una
		  <em>carga</em> que depende del
		  evento. Estos ganchos pueden actuar
		  también como válvulas, permitiendo o
		  impidiendo que se ejecute la etapa
		  siguiente del <em>pipeline</em>. Por
		  ejemplo, no se permite un cambio si
		  no pasa unos tests de aceptabilidad
		  determinados (convenciones de
		  programación, por ejemplo, o
		  corrección sintáctica, sin meternos
		  en la funcionalidad, que se puede
		  probar en otra etapa). 
	      </section>
	      
	      <section 
		data-background='https://farm4.staticflickr.com/3360/3503466579_77f544315f_b_d.jpg'
alt='push to paas'>
		
		<aside class='notes'>En el caso de
		  los PaaS, como los Azure Websites,
		  lo único que hace falta para
		  publicar es hacer
		  <code>push</code>; se usa en caso de
		  código estático (como este) o,
		  simplemente, si los tests se pasan
		  localmente en vez de
		  remotamente. Por
		  ejemplo, <a href='http://ddays.azurewebsites.net/#/'>estas transpas desplegadas
		    estáticamente en Azure
		    Websites</a>, previa configuración a
		  través del panel de control de Azure
		  y especificación del sitio en
		  Github. Otros PaaS como Heroku
		  u Openshift tampoco exigen pasar
		  todo tipo de tests internos: push y
		  se publica, aunque en este caso se
		  hace push directamente al
		  repositorio y no a GitHub que está
		  "enganchado" con Azure. Por eso git es, entre
		  todas, la única herramienta
		  imprescindible para usar es git. Los
		  <em>ganchos</em> de git, tanto del lado del cliente
		  (al activar el despliegue) como del lado del
		  servidor (al copiar si es necesario al sistema de
		  ficheros los nuevos elementos) son los que se
		  encargan de hacer este despliegue. </aside>
	      </section>

	

				<section 
				  data-background='https://farm1.staticflickr.com/74/206978850_309a7cf1a3_b_d.jpg'>
				  <aside class='notes'>La prueba es
				  imprescindible en un flujo de
				  trabajo de integración/despliegue
				  continuo. Cada una de las fases debe
				  de ir acompañada de una prueba a
				  todos los niveles. <a href='http://en.wikipedia.org/wiki/Test-driven_development'>Desarrollo basado
				    en prueba</a> o en comportamiento
				    (que describe en lenguaje
				  <em>natural</em> qué pruebas deben
				  pasarse) son las herramientas
				  fundamentales del mismo. </aside>
				</section>

				<section
				data-background='https://farm6.staticflickr.com/5524/12000389034_6517be727f_k_d.jpg'>
				  <aside class='notes'>Las
				herramientas de construcción son las
				que sirven para alimentar el pipeline
				y lo conectan con el gran botón de
				reparto de todo. En general, las
				    <em>build tools</em> son
				herramientas que permiten ejecutar
				    tareas, incluyendo la propia
				<em>construcción</em> del programa que
				se vaya a  publicar, pero no sólo:
				empaquetamiento, comprobación y, por
				supuesto, ejecución de tests entre las
				diferentes tareas que se pueden ejecutar. </aside>
				</section>

				<section>
				  <h1>Muchas gracias</h1>

				  <p>Descarga esto de <a hfer='http://github.com/JJ/devops-days'><code>git.io/ci-cd</code></a>
				  </p>
				</section>

				<section>
				  <h2>Créditos</h2>
				  
				  <ol>
				    <li class='credits'><a
				    href='https://www.flickr.com/photos/wlodi/3085157011'>Botón
				      rojo por włodi</a></li>

				    <li class='credits'><a
				  href='https://www.flickr.com/photos/cdianne/3309461038/in/photolist-hJuQJ1-5FLnUo-kzNYWN-bgWp8P-fiRzju-oFc47P-mTTkB-8tNBuR-8T4g2Z-99jayA-63rRt5-9MSgjp-5tTaBu-eufXd3-4KTqyZ-8WjYUD-8w4TiH-6egof2-eVFGq8-pTKhW7-8tGhQ2-kMQoY-irn55j-kwJub6-deieCW-7XRpTA-92Ebtu-9GGzvq-9YWo9d-cft8HC-4xmPxY-57raBL-4Camod-ePtZ2-nNjxsW-aaCCYs-dV63jH-31MZZi-7ch3gG-7PahuV-3Tk1uj-3QmEZ-9or3RT-fHtFw3-6D9QE-udFpK-5qXw39-4R3wbo-aNJhp6-e1ZaCN'>Koalas. por
				  Dee'lite</a></li>
				    <li class='credits'><a
				  href='https://www.flickr.com/photos/cennydd/4624759422'>Enchufe
				      por Cennydd Bowles</a></li>
				    <li class='credits'><a
				  href='https://www.flickr.com/photos/98712159@N07/14667856750'>Tubería
				      por Reinhard H</a></li>
				    <li class='credits'><a href='https://www.flickr.com/photos/rev_aviator/2332987323'>Botón rojo de
				      Gord Spence</a></li>

				    <li class='credits'><a
				  href='https://www.flickr.com/photos/jpellgen/9327589307'>Push
				      button fool por
				  Jpellgen</a></li>
				    <li class='credits'><a
				  href='https://www.flickr.com/photos/mysza/2277332792'>Ice
				      tips (ramas) por Kasia</a></li>
				    <li class='credits'><a
				  href='https://www.flickr.com/photos/mckln/3503466579'>Push
				      to PaaS por David Woo</a></li>
				    <li class='credits'><a
				  href='https://www.flickr.com/photos/dannebrog/206978850'>Pies
				      por dannebrog</a></li>
				    <li class='credits'><a
				  href='https://www.flickr.com/photos/yabanji/3175297773'>Ganchos
				      por Debbie Long</a></li>
				    <li
				  class='credits'><a href='https://www.flickr.com/photos/57412095@N05/12000389034'>Herramientas
				      por A Yee</a></li>
				  </ol>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
